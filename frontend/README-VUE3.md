# Vue 3 + TypeScript 项目架构说明

## 🎯 项目概述

这是一个基于 Vue 3 + TypeScript + Vite 的现代化前端项目，实现了 AI 漫改视频生成器的完整用户界面。

## 🛠️ 技术栈

- **框架**: Vue 3 (Composition API + `<script setup>`)
- **构建工具**: Vite 7.3.0
- **语言**: TypeScript 5.3
- **路由**: Vue Router 4
- **状态管理**: Pinia 2.1.7
- **UI 组件库**: Element Plus 2.4.4
- **HTTP 客户端**: Axios 1.6.2
- **CSS 预处理**: SCSS

## 📁 项目结构

```
src/
├── api/                 # API 接口统一管理
│   ├── auth.ts          # 登录注册相关接口
│   ├── ai-service.ts    # AI 生成相关的四大功能接口
│   └── index.ts         # 统一导出
├── assets/              # 静态资源
│   └── styles/          # 全局样式
│       ├── global.scss   # 全局样式和工具类
│       └── variables.scss # SCSS 变量
├── components/          # 公共组件（预留）
├── layout/              # 布局组件
│   └── BasicLayout.vue  # 主体布局（侧边栏+顶部+内容区）
├── router/              # 路由配置
│   └── index.ts         # 路由定义和守卫
├── stores/              # Pinia 状态管理
│   ├── user.ts          # 用户信息、Token 管理
│   └── generation.ts    # 生成任务的状态
├── types/               # TypeScript 类型定义
│   ├── user.ts          # 用户相关类型
│   └── generation.ts    # 生成相关类型
├── utils/               # 工具函数
│   ├── request.ts       # Axios 封装
│   └── format.ts        # 数据格式化工具
├── views/               # 页面文件
│   ├── auth/            # 认证模块
│   │   ├── Login.vue    # 登录页
│   │   └── Register.vue # 注册页
│   ├── home/            # 首页
│   │   └── Dashboard.vue # 控制台
│   ├── features/        # 四大功能模块
│   │   ├── Txt2Img.vue  # 文字生成图片（完整实现）
│   │   ├── Img2Img.vue  # 图片生成图片（占位）
│   │   ├── Img2Vid.vue  # 图片生成视频（占位）
│   │   └── TTS.vue     # 文字转语音（占位）
│   ├── history/         # 历史记录
│   │   └── History.vue # 占位页面
│   ├── settings/        # 设置
│   │   └── Settings.vue # 占位页面
│   └── error/           # 错误页
│       └── 404.vue     # 404 页面
├── App.vue              # 根组件
└── main.ts              # 入口文件
```

## 🚀 启动项目

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```
项目将在 http://localhost:5173 启动（如果端口被占用会自动切换到其他端口）

### 构建生产版本
```bash
npm run build
```

### 类型检查
```bash
npm run type-check
```

## 🔐 认证系统

- **JWT Token 管理**: 自动处理登录状态和 token 刷新
- **路由守卫**: 未登录用户自动跳转到登录页
- **本地存储**: 用户信息和 token 持久化存储

## 📊 状态管理

### User Store (`stores/user.ts`)
- 用户登录/注册
- 用户信息管理
- Token 管理
- 登录状态检查

### Generation Store (`stores/generation.ts`)
- 生成任务状态管理
- 进度跟踪
- 历史记录管理
- 本地存储支持

## 🎨 UI 设计

- **现代化设计**: 使用 Element Plus 组件库
- **响应式布局**: 完美适配桌面端和移动端
- **主题系统**: SCSS 变量统一管理
- **过渡动画**: 页面切换和交互动画

## 🔄 页面路由

| 路径 | 页面 | 状态 | 描述 |
|------|------|------|------|
| `/login` | 登录页 | ✅ 完成 | 用户登录 |
| `/register` | 注册页 | ✅ 完成 | 用户注册 |
| `/dashboard` | 控制台 | ✅ 完成 | 功能入口和统计 |
| `/txt2img` | 文字生成图片 | ✅ 完成 | 完整功能实现 |
| `/img2img` | 图片生成图片 | 🚧 占位 | 开发中 |
| `/img2vid` | 图片生成视频 | 🚧 占位 | 后端已实现 |
| `/tts` | 文字转语音 | 🚧 占位 | 开发中 |
| `/history` | 历史记录 | 🚧 占位 | 开发中 |
| `/settings` | 设置 | 🚧 占位 | 开发中 |

## 🎯 核心功能

### 已实现功能

1. **用户认证系统**
   - 登录/注册表单验证
   - 密码强度检测
   - 模拟登录（开发环境）

2. **控制台概览**
   - 数据统计展示
   - 功能卡片导航
   - 最近作品展示

3. **文字生成图片页面**
   - 左侧参数配置面板
   - 右侧结果预览区
   - 实时进度显示
   - 高级参数支持
   - 图片下载功能

4. **响应式布局**
   - 侧边栏导航
   - 用户菜单
   - 面包屑导航

### 预留功能

- 图片生成图片
- 图片生成视频（后端已实现）
- 文字转语音
- 历史记录
- 设置页面

## 🔧 开发特性

### 自动导入
- Vue 3 API 自动导入
- Element Plus 组件自动导入
- 路由和状态管理自动导入

### 代码规范
- TypeScript 严格模式
- ESLint + Prettier 配置
- 统一的命名规范

### 开发工具
- Vite 热重载
- TypeScript 类型检查
- API 代理配置

## 🌐 API 集成

### 接口封装 (`api/`)
- **认证接口**: 登录、注册、用户信息
- **AI 服务接口**: 四大生成功能的 API 调用
- **请求拦截器**: 自动添加 Token、错误处理
- **响应拦截器**: 统一响应格式处理

### 开发环境
- API 代理到后端服务器 (localhost:3000)
- 模拟登录功能（网络失败时）

## 📱 响应式设计

- **桌面端**: 完整布局和功能
- **平板端**: 自适应布局
- **移动端**: 优化的触控体验

## 🎯 下一步开发计划

1. **完成功能页面**
   - 实现其他三个功能模块
   - 完善历史记录
   - 添加设置页面

2. **增强功能**
   - 添加预设模板
   - 批量生成
   - 实时协作

3. **性能优化**
   - 代码分割
   - 懒加载
   - 图片优化

4. **用户体验**
   - 快捷键支持
   - 拖拽上传
   - 撤销/重做

## 🚀 部署

项目构建后会在 `dist` 目录生成静态文件，可以部署到任何静态文件服务器。

## 📝 备注

- 当前版本为前端实现，后端服务需要独立部署
- 图片生成视频功能后端已实现，可配合使用
- 开发环境包含完整的模拟数据支持